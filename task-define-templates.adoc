---
sidebar: sidebar 
permalink: task-define-templates.html 
keywords: templates, resource templates, services templates, volume templates, cvo working environment template, find volumes 
summary: 'Seleziona una o più "azioni" fornite da NetApp e crea rapidamente un modello applicativo che la tua organizzazione può utilizzare per iniziare a ottimizzare la creazione di risorse.' 
---
= Crea modelli di applicazione per la tua organizzazione
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ./media/


[role="lead"]
Seleziona una o più "azioni" fornite da NetApp e crea rapidamente un modello applicativo che la tua organizzazione può utilizzare per iniziare a ottimizzare la creazione di risorse.



== Avvio rapido

Inizia subito seguendo questi passaggi o scorri verso il basso fino alle sezioni rimanenti per ottenere dettagli completi.

.image:https://raw.githubusercontent.com/NetAppDocs/common/main/media/number-1.png["Uno"] Verificare i prerequisiti richiesti
[role="quick-margin-list"]
* Prima che gli utenti possano creare un volume per un sistema Cloud Volumes ONTAP, ONTAP on-premise o Azure NetApp Files utilizzando un modello, assicurarsi di avere accesso a un ambiente di lavoro appropriato in cui verrà implementato il volume.


[role="quick-margin-list"]
* Se intendi aggiungere un'azione del servizio Cloud al tuo modello, ad esempio https://docs.netapp.com/us-en/cloud-manager-backup-restore/concept-ontap-backup-to-cloud.html["Backup e ripristino BlueXP"^] oppure https://docs.netapp.com/us-en/cloud-manager-data-sense/concept-cloud-compliance.html["Classificazione BlueXP"^], assicurarsi che il servizio sia attivo e concesso in licenza nel proprio ambiente.


.image:https://raw.githubusercontent.com/NetAppDocs/common/main/media/number-2.png["Due"] Avviare il servizio modelli di applicazione
[role="quick-margin-para"]
Selezionare *Health > Remediation*, fare clic sulla scheda *Editor* e selezionare le azioni da utilizzare nel modello.

.image:https://raw.githubusercontent.com/NetAppDocs/common/main/media/number-3.png["Tre"] Creare il modello selezionando "azioni" e definendo i parametri
[role="quick-margin-para"]
Seguire le fasi di creazione e definire le azioni che verranno eseguite dal modello.



== Requisiti

Leggere i seguenti requisiti per assicurarsi di disporre di una configurazione supportata.

* Se non si dispone già di un connettore, https://docs.netapp.com/us-en/cloud-manager-setup-admin/concept-connectors.html["Scopri come creare connettori"^] Per AWS, Azure e GCP.
* Quando si crea un modello di volume Cloud Volumes ONTAP, assicurarsi di disporre di un ambiente di lavoro Cloud Volumes ONTAP per gli utenti. Scopri come avviare un sistema Cloud Volumes ONTAP in https://docs.netapp.com/us-en/cloud-manager-cloud-volumes-ontap/task-getting-started-aws.html["AWS"^], https://docs.netapp.com/us-en/cloud-manager-cloud-volumes-ontap/task-getting-started-azure.html["Azure"^]o in https://docs.netapp.com/us-en/cloud-manager-cloud-volumes-ontap/task-getting-started-gcp.html["GCP"^].
* Quando si crea un modello di volume ONTAP on-premise, assicurarsi di disporre di un ambiente di lavoro ONTAP on-premise per gli utenti. Scopri come https://docs.netapp.com/us-en/cloud-manager-ontap-onprem/task-discovering-ontap.html["Scopri un sistema ONTAP on-premise"^] In BlueXP.
* Quando si crea un modello di volume Azure NetApp Files, assicurarsi di disporre di un ambiente di lavoro Azure NetApp Files per gli utenti. Scopri come https://docs.netapp.com/us-en/cloud-manager-azure-netapp-files/task-quick-start.html["Creare un ambiente di lavoro Azure NetApp Files"^] In BlueXP.
* Se si prevede di utilizzare il backup e il ripristino BlueXP per eseguire il backup di un volume nel modello, assicurarsi che l'ambiente abbia attivato il backup e il ripristino BlueXP.
* Se si prevede di utilizzare la classificazione BlueXP per eseguire la scansione dei volumi nel modello, assicurarsi che l'ambiente abbia attivato la classificazione BlueXP.
* Se si intende attivare la replica BlueXP nel modello e il modello si applica a un volume ONTAP on-premise, il cluster ONTAP deve disporre di una licenza SnapMirror attiva.




== Esempi di creazione di risorse utilizzando modelli

I modelli di risorse consentono di creare nuovi volumi o un nuovo ambiente di lavoro Cloud Volumes ONTAP.



=== Creare un modello per un volume Cloud Volumes ONTAP

Vedere https://docs.netapp.com/us-en/cloud-manager-cloud-volumes-ontap/task-create-volumes.html["Come eseguire il provisioning dei volumi Cloud Volumes ONTAP"^] Per informazioni dettagliate su tutti i parametri da completare nel modello di volume Cloud Volumes ONTAP.

Per questo esempio, creeremo un modello denominato "volume CVO per database" e includeremo le seguenti 2 azioni:

* Crea volume Cloud Volumes ONTAP
+
Creare il volume per l'ambiente AWS, configurarlo con 100 GB di storage, impostare Snapshot Policy su "default" e abilitare l'efficienza dello storage.

* Abilitare il backup e ripristino BlueXP
+
Creazione di 30 backup giornalieri, 13 settimanali e 3 mensili (utilizzando la policy _3 mesi di conservazione_).



.Fasi
. Selezionare *Health > Remediation*, fare clic sulla scheda *Templates*, quindi fare clic su *Add New Template* (Aggiungi nuovo modello).
+
Viene visualizzata la pagina _Select_a Template_.

+
image:screenshot_create_template_primary_action_cvo.png["Una schermata che mostra come selezionare l'azione principale che verrà eseguita utilizzando questo modello."]

. Selezionare *Volume per Cloud Volumes ONTAP + Backup* come tipo di risorsa che si desidera creare e fare clic su *Get Started*.
+
Viene visualizzata la pagina _Crea volume in definizione azione Cloud Volumes ONTAP_.

+
image:screenshot_create_template_define_action_cvo.png["Una schermata che mostra un modello CVO vuoto da compilare."]

. *Action Name* (Nome azione): Se si desidera, inserire un nome di azione personalizzato invece del valore predefinito.
. *Contesto:* inserire il contesto dell'ambiente di lavoro Cloud Volumes ONTAP, se necessario.
+
Quando gli utenti avviano il modello da un ambiente di lavoro esistente, queste informazioni vengono compilate automaticamente.

+
Quando gli utenti avviano il modello dalla dashboard modelli (non in un contesto di ambiente di lavoro), devono selezionare l'ambiente di lavoro e la SVM in cui verrà creato il volume. Ecco perché questi campi sono contrassegnati come "modificabili".

. *Dettagli:* inserire il nome e le dimensioni del volume.
+
[cols="25,75"]
|===
| Campo | Descrizione 


| Volume Name (Nome volume) | Fare clic nel campo e selezionare una delle 5 opzioni. È possibile consentire all'amministratore di immettere qualsiasi nome selezionando *Free Text*, oppure specificare che il nome del volume deve avere un determinato prefisso o suffisso, che _contenga_ caratteri specifici o che segua le regole di un'espressione regolare (regex) immessa. Ad esempio, è possibile specificare che "db" sia un prefisso, un suffisso o un contenuto richiesto, richiedendo all'utente di aggiungere nomi di volumi come "db_vol1", "vol1_db" o "vol_db_1". 


| Volume Size (dimensione volume) | È possibile specificare un intervallo di valori consentiti o una dimensione fissa. Questo valore è in GB. Per il nostro esempio possiamo aggiungere un valore fisso *100*. 


| Tag | Immettere una coppia nome e valore per un tag che si desidera associare a questo volume. Ad esempio, è possibile aggiungere "Cost Center" come nome del tag e il codice del centro di costo "6655829" come valore. È possibile associare più tag a un volume aggiungendo più coppie nome tag e valore. 
|===
. *Protezione:* scegliere se creare copie Snapshot in questo volume selezionando "Default" (predefinito) o un altro criterio oppure scegliere "None" (Nessuno) se non si desidera creare copie Snapshot.
. *Profilo di utilizzo:* scegliere se applicare o meno le funzionalità di efficienza dello storage NetApp al volume. Ciò include thin provisioning, deduplica e compressione. Per il nostro esempio, Mantieni abilitata l'efficienza dello storage.
. *Tipo di disco:* scegliere il provider di cloud storage e il tipo di disco. Per alcune selezioni di dischi, è anche possibile selezionare un valore minimo e massimo di IOPS o throughput (MB/s); in pratica, definire una certa qualità del servizio (QoS).
. *Protocol Options:* selezionare *NFS* o *SMB* per impostare il protocollo del volume. Quindi, fornire i dettagli del protocollo.
+
[cols="25,75"]
|===
| Campi NFS | Descrizione 


| Controllo degli accessi | Scegliere se i controlli di accesso sono necessari per accedere al volume. 


| Policy di esportazione | Creare una policy di esportazione per definire i client nella subnet che possono accedere al volume. 


| Versione NFS | Selezionare la versione NFS per il volume: _NFSv3_ o _NFSv4_, oppure selezionare entrambe le opzioni. 
|===
+
[cols="25,75"]
|===
| Campi SMB | Descrizione 


| Share Name (Nome condivisione) | Fare clic nel campo e selezionare una delle 5 opzioni. È possibile consentire all'amministratore di immettere qualsiasi nome (testo libero) oppure specificare che il nome della condivisione deve avere un determinato prefisso o suffisso, che contenga_ caratteri specifici o che segua le regole di un'espressione regolare (regex) immessa. 


| Permessi | Selezionare il livello di accesso a una condivisione per utenti e gruppi (detti anche elenchi di controllo degli accessi o ACL). 


| Utenti/gruppi | Specificare utenti o gruppi Windows locali o di dominio, utenti o gruppi UNIX. Se si specifica un nome utente Windows di dominio, è necessario includere il dominio dell'utente utilizzando il formato dominio/nome utente. 
|===
. *Tiering:* scegliere il criterio di tiering che si desidera applicare al volume oppure impostarlo su "None" se non si desidera eseguire il tiering dei dati cold da questo volume allo storage a oggetti.
+
Vedere https://docs.netapp.com/us-en/cloud-manager-cloud-volumes-ontap/concept-data-tiering.html#volume-tiering-policies["policy di tiering dei volumi"^] per una panoramica, vedere https://docs.netapp.com/us-en/cloud-manager-cloud-volumes-ontap/task-tiering.html["Tiering dei dati inattivi sullo storage a oggetti"^] per assicurarsi che l'ambiente sia impostato per il tiering.

. Fare clic su *Apply* (Applica) dopo aver definito i parametri necessari per questa azione.
+
Se i valori del modello sono stati completati correttamente, nella casella "Crea volume in Cloud Volumes ONTAP" viene aggiunto un segno di spunta verde.

. Fare clic sulla casella *Enable Cloud Backup on Volume* (attiva backup cloud su volume) per visualizzare la finestra di dialogo _Enable Cloud Backup on Volume Action Definition_ (attiva backup cloud su volume), in modo da poter inserire i dettagli relativi al backup e al ripristino di BlueXP.
+
image:screenshot_create_template_add_action.png["Una schermata che mostra le azioni aggiuntive che è possibile aggiungere al volume creato."]

. Selezionare la policy di backup *3 mesi di conservazione* per creare 30 backup giornalieri, 13 settimanali e 3 mensili.
. Sotto i campi Working Environment (ambiente di lavoro) e Volume Name (Nome volume) sono disponibili tre opzioni per indicare quale volume avrà attivato il backup. Vedere link:reference-template-building-blocks.html#pass-values-between-template-actions["come completare questi campi"].
. Fare clic su *Apply* (Applica) per salvare la finestra di dialogo di backup e ripristino di BlueXP.
. Inserire il nome del modello *volume CVO per i database* (per questo esempio) in alto a sinistra.
. Fare clic su *Impostazioni e deriva* per fornire una descrizione più dettagliata in modo che questo modello possa essere distinto da altri modelli simili, in modo da poter attivare la funzione di spostamento per il modello generale, quindi fare clic su *Applica*.
+
Drift consente a BlueXP di monitorare i valori hard-coded immessi per i parametri durante la creazione di questo modello.

. Fare clic su *Save Template* (Salva modello).


.Risultato
Il modello viene creato e si torna alla dashboard modelli dove viene visualizzato il nuovo modello.

Vedere <<Cosa fare dopo aver creato il modello,informazioni sui modelli da fornire agli utenti>>.



=== Creare un modello per un volume Azure NetApp Files

La creazione di un modello per un volume Azure NetApp Files avviene nello stesso modo in cui viene creato un modello per un volume Cloud Volumes ONTAP.

Vedere https://docs.netapp.com/us-en/cloud-manager-azure-netapp-files/task-create-volumes.html#create-volumes["Come eseguire il provisioning dei volumi Azure NetApp Files"^] Per informazioni dettagliate su tutti i parametri da completare nel modello di volume ANF.

.Fasi
. Selezionare *Health > Remediation*, fare clic sulla scheda *Templates*, quindi fare clic su *Add New Template* (Aggiungi nuovo modello).
+
Viene visualizzata la pagina _Select_a Template_.

+
image:screenshot_create_template_primary_action_blank.png["Una schermata che mostra come selezionare l'azione principale che verrà eseguita utilizzando questo modello."]

. Selezionare *modello vuoto* e fare clic su *inizia*.
. Selezionare *Crea volume in Azure NetApp Files* come tipo di risorsa che si desidera creare e fare clic su *Applica*.
+
Viene visualizzata la pagina _Crea volume in definizione azione Azure NetApp Files_.

+
image:screenshot_create_template_define_action_anf.png["Una schermata che mostra un modello ANF vuoto da compilare."]

. *Action Name* (Nome azione): Se si desidera, inserire un nome di azione personalizzato invece del valore predefinito.
. *Dettagli volume:* inserire il nome e le dimensioni di un volume e, facoltativamente, specificare i tag per il volume.
+
[cols="25,75"]
|===
| Campo | Descrizione 


| Volume Name (Nome volume) | Fare clic nel campo e selezionare una delle 5 opzioni. È possibile consentire all'amministratore di immettere qualsiasi nome selezionando *Free Text*, oppure specificare che il nome del volume deve avere un determinato prefisso o suffisso, che _contenga_ caratteri specifici o che segua le regole di un'espressione regolare (regex) immessa. Ad esempio, è possibile specificare che "db" sia un prefisso, un suffisso o un contenuto richiesto, richiedendo all'utente di aggiungere nomi di volumi come "db_vol1", "vol1_db" o "vol_db_1". 


| Volume Size (dimensione volume) | È possibile specificare un intervallo di valori consentiti o una dimensione fissa. Questo valore è in GB. 


| Tag | Immettere una coppia nome e valore per un tag che si desidera associare a questo volume. Ad esempio, è possibile aggiungere "Cost Center" come nome del tag e il codice del centro di costo "6655829" come valore. È possibile associare più tag a un volume aggiungendo più coppie nome tag e valore. 
|===
. *Protocol:* selezionare *NFSv3*, *NFSv4.1* o *SMB* per impostare il protocollo del volume. Quindi, fornire i dettagli del protocollo.
+
[cols="25,75"]
|===
| Campi NFS | Descrizione 


| Percorso del volume | Selezionare una delle 5 opzioni. È possibile consentire all'amministratore di immettere qualsiasi percorso selezionando *testo libero* oppure specificare che il nome del percorso deve avere un determinato prefisso o suffisso, che _contenga_ caratteri specifici o che segua le regole di un'espressione regolare (regex) immessa. 


| Regole dei criteri di esportazione | Creare una policy di esportazione per definire i client nella subnet che possono accedere al volume. 
|===
+
[cols="25,75"]
|===
| Campi SMB | Descrizione 


| Percorso del volume | Selezionare una delle 5 opzioni. È possibile consentire all'amministratore di immettere qualsiasi percorso selezionando *testo libero* oppure specificare che il nome del percorso deve avere un determinato prefisso o suffisso, che _contenga_ caratteri specifici o che segua le regole di un'espressione regolare (regex) immessa. 
|===
. *Contesto:* inserire l'ambiente di lavoro Azure NetApp Files, i dettagli di un account Azure NetApp Files nuovo o esistente e altri dettagli.
+
[cols="25,75"]
|===
| Campo | Descrizione 


| Ambiente di lavoro | Quando gli utenti amministratori dello storage lanciano il modello da un ambiente di lavoro esistente, queste informazioni vengono compilate automaticamente. Quando gli utenti avviano il modello dalla dashboard modelli (non in un contesto di ambiente di lavoro), devono selezionare l'ambiente di lavoro in cui verrà creato il volume. 


| Nome account NetApp | Immettere il nome che si desidera utilizzare per l'account. 


| ID abbonamento Azure | Inserire l'ID dell'abbonamento Azure. Questo è l'ID completo in un formato simile a "2b04f26-7de6-42eb-9234-e2903d7s327". 


| Regione | Immettere la regione utilizzando https://docs.microsoft.com/en-us/dotnet/api/microsoft.azure.documents.locationnames?view=azure-dotnet#fields["nome della regione interna"^]. 


| Nome gruppo di risorse | Immettere il nome del gruppo di risorse che si desidera utilizzare. 


| Nome del pool di capacità | Inserire il nome di un pool di capacità esistente. 


| Subnet | Immettere VNET e subnet. Questo valore include il percorso completo, in un formato simile a "/subscriptions/<subscription_id>/resourceGroups/<resource_group>/ providers/Microsoft.Network/virtualNetworks/<vpc_name>/subnets/<subhet_name>". 
|===
. *Snapshot Copy:* inserire l'ID Snapshot di un volume esistente Snapshot se si desidera che questo nuovo volume venga creato utilizzando le caratteristiche di un volume esistente.
. Fare clic su *Apply* (Applica) dopo aver definito i parametri necessari per questa azione.
. Inserire il nome che si desidera utilizzare per il modello in alto a sinistra.
. Fare clic su *Impostazioni e deriva* per fornire una descrizione più dettagliata in modo che questo modello possa essere distinto da altri modelli simili, in modo da poter attivare la funzione di spostamento per il modello generale, quindi fare clic su *Applica*.
+
Drift consente a BlueXP di monitorare i valori hard-coded immessi per i parametri durante la creazione di questo modello.

. Fare clic su *Save Template* (Salva modello).


.Risultato
Il modello viene creato e si torna alla dashboard modelli dove viene visualizzato il nuovo modello.

Vedere <<Cosa fare dopo aver creato il modello,informazioni sui modelli da fornire agli utenti>>.



=== Creare un modello per un volume ONTAP on-premise

Vedere https://docs.netapp.com/us-en/cloud-manager-ontap-onprem/task-manage-ontap-connector.html#create-volumes["Come eseguire il provisioning dei volumi ONTAP on-premise"^] Per informazioni dettagliate su tutti i parametri da completare nel modello di volume ONTAP on-premise.

.Fasi
. Selezionare *Health > Remediation*, fare clic sulla scheda *Templates*, quindi fare clic su *Add New Template* (Aggiungi nuovo modello).
+
Viene visualizzata la pagina _Select_a Template_.

+
image:screenshot_create_template_primary_action_blank.png["Una schermata che mostra come selezionare l'azione principale che verrà eseguita utilizzando questo modello."]

. Selezionare *modello vuoto* e fare clic su *inizia*.
+
Viene visualizzata la pagina _Add New Action_.

+
image:screenshot_create_template_primary_action_onprem.png["Una schermata che mostra come selezionare l'azione principale dalla pagina Add New Action (Aggiungi nuova azione)."]

. Selezionare *Crea volume in on-premise ONTAP* come tipo di risorsa da creare e fare clic su *Applica*.
+
Viene visualizzata la pagina _Crea volume in definizione azione ONTAP on-premise_.

+
image:screenshot_create_template_define_action_onprem.png["Una schermata che mostra un modello onpremm ONTAP vuoto da compilare."]

. *Action Name* (Nome azione): Se si desidera, inserire un nome di azione personalizzato invece del valore predefinito.
. *Contesto:* inserire il contesto dell'ambiente di lavoro ONTAP on-premise, se necessario.
+
Quando gli utenti avviano il modello da un ambiente di lavoro esistente, queste informazioni vengono compilate automaticamente.

+
Quando gli utenti avviano il modello dalla dashboard modelli (non in un contesto di ambiente di lavoro), devono selezionare l'ambiente di lavoro, la SVM e l'aggregato in cui verrà creato il volume.

. *Dettagli:* inserire il nome e le dimensioni del volume.
+
[cols="25,75"]
|===
| Campo | Descrizione 


| Volume Name (Nome volume) | Fare clic nel campo e selezionare una delle 5 opzioni. È possibile consentire all'amministratore di immettere qualsiasi nome selezionando *Free Text*, oppure specificare che il nome del volume deve avere un determinato prefisso o suffisso, che _contenga_ caratteri specifici o che segua le regole di un'espressione regolare (regex) immessa. Ad esempio, è possibile specificare che "db" sia un prefisso, un suffisso o un contenuto richiesto, richiedendo all'utente di aggiungere nomi di volumi come "db_vol1", "vol1_db" o "vol_db_1". 


| Volume Size (dimensione volume) | È possibile specificare un intervallo di valori consentiti o una dimensione fissa. Questo valore è in GB. Per il nostro esempio possiamo aggiungere un valore fisso *100*. 


| Tag | Immettere una coppia nome e valore per un tag che si desidera associare a questo volume. Ad esempio, è possibile aggiungere "Cost Center" come nome del tag e il codice del centro di costo "6655829" come valore. È possibile associare più tag a un volume aggiungendo più coppie nome tag e valore. 
|===
. *Protezione:* scegliere se creare copie Snapshot in questo volume selezionando "Default" (predefinito) o un altro criterio oppure scegliere "None" (Nessuno) se non si desidera creare copie Snapshot.
. *Profilo di utilizzo:* scegliere se applicare o meno le funzionalità di efficienza dello storage NetApp al volume. Ciò include thin provisioning, deduplica e compressione.
. *Protocol Options:* selezionare *NFS* o *SMB* per impostare il protocollo del volume. Quindi, fornire i dettagli del protocollo.
+
[cols="25,75"]
|===
| Campi NFS | Descrizione 


| Controllo degli accessi | Scegliere se i controlli di accesso sono necessari per accedere al volume. 


| Policy di esportazione | Creare una policy di esportazione per definire i client nella subnet che possono accedere al volume. 


| Versione NFS | Selezionare la versione NFS per il volume: _NFSv3_ o _NFSv4_, oppure selezionare entrambe le opzioni. 
|===
+
[cols="25,75"]
|===
| Campi SMB | Descrizione 


| Share Name (Nome condivisione) | Fare clic nel campo e selezionare una delle 5 opzioni. È possibile consentire all'amministratore di immettere qualsiasi nome (testo libero) oppure specificare che il nome della condivisione deve avere un determinato prefisso o suffisso, che contenga_ caratteri specifici o che segua le regole di un'espressione regolare (regex) immessa. 


| Permessi | Selezionare il livello di accesso a una condivisione per utenti e gruppi (detti anche elenchi di controllo degli accessi o ACL). 


| Utenti/gruppi | Specificare utenti o gruppi Windows locali o di dominio, utenti o gruppi UNIX. Se si specifica un nome utente Windows di dominio, è necessario includere il dominio dell'utente utilizzando il formato dominio/nome utente. 
|===
. Fare clic su *Apply* (Applica) dopo aver definito i parametri necessari per questa azione.
+
Se i valori del modello sono stati completati correttamente, viene aggiunto un segno di spunta verde alla casella "Crea volume in on-premise ONTAP".

. Inserire il nome del modello in alto a sinistra.
. Fare clic su *Impostazioni e deriva* per fornire una descrizione più dettagliata in modo che questo modello possa essere distinto da altri modelli simili, in modo da poter attivare la funzione di spostamento per il modello generale, quindi fare clic su *Applica*.
+
Drift consente a BlueXP di monitorare i valori hard-coded immessi per i parametri durante la creazione di questo modello.

. Fare clic su *Save Template* (Salva modello).


.Risultato
Il modello viene creato e si torna alla dashboard dei modelli dove viene visualizzato il nuovo modello.

Vedere <<Cosa fare dopo aver creato il modello,informazioni sui modelli da fornire agli utenti>>.



=== Creare un modello per un ambiente di lavoro Cloud Volumes ONTAP

È possibile creare un ambiente di lavoro Cloud Volumes ONTAP a nodo singolo o ad alta disponibilità utilizzando i modelli.

[NOTE]
====
* Al momento, questo supporto viene fornito solo per gli ambienti AWS.
* Questo modello non crea il primo volume nell'ambiente di lavoro. Per creare il volume, è necessario aggiungere un'azione "Crea volume in Cloud Volumes ONTAP" nel modello.


====
Vedere https://docs.netapp.com/us-en/cloud-manager-cloud-volumes-ontap/task-deploying-otc-aws.html#launching-a-single-node-cloud-volumes-ontap-system-in-aws["Come avviare un sistema Cloud Volumes ONTAP a nodo singolo in AWS"^] oppure un https://docs.netapp.com/us-en/cloud-manager-cloud-volumes-ontap/task-deploying-otc-aws.html#launching-a-cloud-volumes-ontap-ha-pair-in-aws["Coppia Cloud Volumes ONTAP ha in AWS"^] per i prerequisiti da applicare e per i dettagli su tutti i parametri da definire in questo modello.

.Fasi
. Selezionare *Health > Remediation*, fare clic sulla scheda *Templates*, quindi fare clic su *Add New Template* (Aggiungi nuovo modello).
+
Viene visualizzata la pagina _Select_a Template_.

+
image:screenshot_create_template_primary_action_blank.png["Una schermata che mostra come selezionare l'azione principale che verrà eseguita utilizzando questo modello."]

. Selezionare *modello vuoto* e fare clic su *inizia*.
+
Viene visualizzata la pagina _Add New Action_.

+
image:screenshot_create_template_cvo_env_aws.png["Una schermata che mostra come selezionare l'azione principale dalla pagina Add New Action (Aggiungi nuova azione)."]

. Selezionare *Crea ambiente di lavoro in AWS (nodo singolo)* o *Crea ambiente di lavoro in AWS (alta disponibilità)* come tipo di risorsa da creare e fare clic su *Applica*.
+
In questo esempio, viene visualizzata la pagina _Create Working Environment in AWS (nodo singolo)_.

+
image:screenshot_create_template_cvo_env_aws1.png["Una schermata che mostra un modello di ambiente di lavoro Cloud Volumes ONTAP vuoto da compilare."]

. *Action Name* (Nome azione): Se si desidera, inserire un nome di azione personalizzato invece del valore predefinito.
. *Dettagli e credenziali*: Selezionare le credenziali AWS da utilizzare, immettere un nome di ambiente di lavoro e aggiungere tag, se necessario.
+
Alcuni dei campi di questa pagina sono esplicativi. La seguente tabella descrive i campi per i quali potrebbero essere necessarie indicazioni:

+
[cols="25,75"]
|===
| Campo | Descrizione 


| Credenziali | Queste sono le credenziali per l'account amministratore del cluster Cloud Volumes ONTAP. È possibile utilizzare queste credenziali per connettersi a Cloud Volumes ONTAP tramite Gestore di sistema di ONTAP o la relativa CLI. 


| Nome ambiente di lavoro | BlueXP utilizza il nome dell'ambiente di lavoro per assegnare un nome sia al sistema Cloud Volumes ONTAP che all'istanza di Amazon EC2. Se si seleziona questa opzione, il nome viene utilizzato anche come prefisso per il gruppo di protezione predefinito. Fare clic nel campo e selezionare una delle 5 opzioni. È possibile consentire all'amministratore di immettere un nome selezionando *testo libero* oppure specificare che il nome dell'ambiente di lavoro deve avere un determinato prefisso o suffisso, che _contenga_ caratteri specifici o che segua le regole di un'espressione regolare (regex) immessa. 


| Tag | I tag AWS sono metadati per le risorse AWS. BlueXP aggiunge i tag all'istanza di Cloud Volumes ONTAP e a ciascuna risorsa AWS associata all'istanza. Per informazioni sui tag, fare riferimento a. https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Using_Tags.html["Documentazione AWS: Contrassegno delle risorse Amazon EC2"^]. 
|===
. *Location & Connectivity* (posizione e connettività): Inserire le informazioni di rete registrate in https://docs.netapp.com/us-en/cloud-manager-cloud-volumes-ontap/task-planning-your-config.html#collect-networking-information["Foglio di lavoro AWS"^]. Ciò include AWS Region, VPC, Subnet e Security Group.
+
Se si dispone di un Outpost AWS, è possibile implementare un sistema Cloud Volumes ONTAP a nodo singolo in tale Outpost selezionando il VPC Outpost. L'esperienza è la stessa di qualsiasi altro VPC che risiede in AWS.

. *Authentication Method* (metodo di autenticazione): Selezionare il metodo di autenticazione SSH che si desidera utilizzare, ovvero una password o una coppia di chiavi.
. *Crittografia dei dati*: Non scegliere alcuna crittografia dei dati o crittografia gestita da AWS.
+
Per la crittografia gestita da AWS, è possibile scegliere una chiave Customer Master Key (CMK) diversa dal proprio account o da un altro account AWS.

+
https://docs.netapp.com/us-en/cloud-manager-cloud-volumes-ontap/task-setting-up-kms.html["Scopri come configurare AWS KMS per Cloud Volumes ONTAP"^].

. *Charging Method* (metodo di ricarica): Specificare l'opzione di ricarica che si desidera utilizzare con questo sistema.
+
https://docs.netapp.com/us-en/cloud-manager-cloud-volumes-ontap/task-set-up-licensing-aws.html["Scopri questi metodi di ricarica"^].

. *NetApp Support Site account*: Selezionare un account NetApp Support Site.
. *Pacchetti preconfigurati*: Selezionare uno dei quattro pacchetti preconfigurati che determineranno diversi fattori per i volumi creati nell'ambiente di lavoro.
. *Configurazione SMB*: Se si prevede di implementare volumi utilizzando SMB in questo ambiente di lavoro, è possibile configurare un server CIFS e i relativi elementi di configurazione.
. Fare clic su *Apply* (Applica) dopo aver definito i parametri necessari per questa azione.
+
Se i valori del modello sono stati completati correttamente, viene aggiunto un segno di spunta verde alla casella "Create Working Environment in AWS (single node)" (Crea ambiente di lavoro in AWS (nodo singolo)).

. È possibile aggiungere un'altra azione in questo modello per creare un volume per questo ambiente di lavoro. In tal caso, fare clic su image:button_plus_sign_round.png["pulsante più"] e aggiunga questa azione. Scopri come <<Creare un modello per un volume Cloud Volumes ONTAP,Creare un modello per un volume Cloud Volumes ONTAP>> per ulteriori informazioni.
. Inserire il nome del modello in alto a sinistra.
. Fare clic su *Impostazioni e deriva* per fornire una descrizione più dettagliata in modo che questo modello possa essere distinto da altri modelli simili, in modo da poter attivare la funzione di spostamento per il modello generale, quindi fare clic su *Applica*.
+
Drift consente a BlueXP di monitorare i valori hard-coded immessi per i parametri durante la creazione di questo modello.

. Fare clic su *Save Template* (Salva modello).


.Risultato
Il modello viene creato e si torna alla dashboard dei modelli dove viene visualizzato il nuovo modello.

Vedere <<Cosa fare dopo aver creato il modello,informazioni sui modelli da fornire agli utenti>>.



== Esempi di ricerca di risorse esistenti utilizzando modelli

Utilizzando l'azione _Find Existing Resources_ è possibile trovare ambienti di lavoro specifici o volumi esistenti fornendo una varietà di filtri per restringere la ricerca alle risorse a cui si è interessati. Dopo aver individuato le risorse corrette, è possibile aggiungere volumi a un ambiente di lavoro o attivare un servizio cloud sui volumi risultanti.


NOTE: A questo punto, è possibile trovare i volumi all'interno dei sistemi Cloud Volumes ONTAP, ONTAP on-premise e Azure NetApp Files. Inoltre, è possibile abilitare il backup e il ripristino BlueXP su volumi Cloud Volumes ONTAP e ONTAP on-premise. Ulteriori risorse e servizi saranno disponibili in un secondo momento.



=== Trova i volumi esistenti e attiva un servizio cloud

L'attuale funzionalità di azione _trova risorse esistenti_ consente di trovare volumi in ambienti di lavoro Cloud Volumes ONTAP e ONTAP on-premise che non dispongono attualmente di backup e ripristino BlueXP o classificazione BlueXP abilitata. Quando si attiva il backup e il ripristino BlueXP su volumi specifici, questa azione imposta anche il criterio di backup configurato come criterio predefinito per quell'ambiente di lavoro, in modo che tutti i volumi futuri di tali ambienti di lavoro possano utilizzare lo stesso criterio di backup.

.Fasi
. Selezionare *Health > Remediation*, fare clic sulla scheda *Templates*, quindi fare clic su *Add New Template* (Aggiungi nuovo modello).
+
Viene visualizzata la pagina _Select_a Template_.

+
image:screenshot_create_template_primary_action_blank.png["Una schermata che mostra come selezionare l'azione principale che verrà eseguita utilizzando questo modello."]

. Selezionare *modello vuoto* e fare clic su *inizia*.
+
Viene visualizzata la pagina _Add New Action_.

+
image:screenshot_create_template_find_resource_action.png["Una schermata che mostra come selezionare l'azione trova risorse esistenti dalla pagina Aggiungi nuova azione."]

. Selezionare *trova risorse esistenti* come tipo di azione da definire e fare clic su *Applica*.
+
Viene visualizzata la pagina _Find Existing Resources Action Definition_.

+
image:screenshot_define_find_resource_action1.png["Una schermata che mostra un modello vuoto di ricerca delle risorse esistenti da compilare."]

. *Nome azione*: Immettere un nome di azione personalizzato invece del valore predefinito. Ad esempio, "Find Large Volumes on cluster ABC and enable Backup" (trova volumi elevati sul cluster ABC e attiva backup).
. *Tipo di risorsa:* selezionare il tipo di risorsa che si desidera trovare. In questo caso è possibile selezionare *volumi in Cloud Volumes ONTAP*.
+
Questa è l'unica voce richiesta per questa azione. È possibile fare clic su *continua* per visualizzare un elenco di tutti i volumi su tutti i sistemi Cloud Volumes ONTAP del proprio ambiente.

+
Si consiglia invece di compilare alcuni filtri per ridurre il numero di risultati (in questo caso volumi) su cui applicare l'azione di backup e ripristino di BlueXP.

. Nell'area _contesto_ è possibile selezionare un ambiente di lavoro specifico e altri dettagli relativi a tale ambiente di lavoro.
+
image:screenshot_define_find_resource_filter_context.png["Una schermata che mostra i filtri di contesto applicabili al modello trova risorse esistenti."]

. Nell'area _Dettagli_ è possibile selezionare il nome del volume, l'intervallo delle dimensioni del volume e qualsiasi tag assegnato ai volumi.
+
Per il nome del volume, fare clic nel campo e selezionare una delle 5 opzioni. È possibile consentire all'amministratore di immettere qualsiasi nome selezionando *Free Text*, oppure specificare che il nome del volume deve avere un determinato prefisso o suffisso, che _contenga_ caratteri specifici o che segua le regole di un'espressione regolare (regex) immessa.

+
Per le dimensioni del volume è possibile specificare un intervallo, ad esempio tutti i volumi compresi tra 100 GiB e 500 GiB.

+
Per i tag è possibile restringere ulteriormente la ricerca in modo che i risultati visualizzino solo i volumi con determinate coppie di tasti/valori dei tag.

+
image:screenshot_define_find_resource_filter_details.png["Una schermata che mostra i filtri Dettagli applicabili al modello trova risorse esistenti."]

. Fare clic su *continua* e la pagina viene aggiornata per visualizzare i criteri di ricerca definiti nel modello.
+
image:screenshot_define_find_resource_search_criteria.png["Una schermata che mostra i criteri di ricerca definiti per il modello trova risorse esistenti."]

. Fare clic su *verifica i criteri di ricerca* per visualizzare i risultati correnti.
+
** Se i risultati non sono quelli previsti, fare clic su image:screenshot_edit_icon.gif["icona modifica matita"] Accanto a _Criteri di ricerca_ e rifinisci ulteriormente la ricerca.
** Quando i risultati sono buoni, fare clic su *Done* (fine).
+
L'azione _Find Existing Resources_ completata viene visualizzata nella finestra dell'editor.



. Fare clic sul segno più per aggiungere un'altra azione, selezionare *Enable Cloud Backup on Volume* (attiva backup cloud su volume) e fare clic su *Apply* (Applica).
+
L'azione _Enable Cloud Backup on Volume_ viene aggiunta alla finestra.

+
image:screenshot_template_add_backup_action.png["Una schermata che mostra i passaggi per aggiungere un'azione di backup e ripristino BlueXP al modello."]

. È ora possibile definire i criteri di backup come descritto in <<Aggiungere la funzionalità di backup a un volume,Aggiunta della funzionalità di backup a un volume>> In modo che il modello applichi la policy di backup corretta ai volumi selezionati dall'azione _Find Existing Resources_.
. Fare clic su *Apply* (Applica) per salvare la personalizzazione effettuata nell'azione Backup, quindi fare clic su *Save Template* (Salva modello) al termine dell'operazione.


.Risultato
Il modello viene creato e si torna alla dashboard dei modelli dove viene visualizzato il nuovo modello.

Vedere <<Cosa fare dopo aver creato il modello,informazioni sui modelli da fornire agli utenti>>.



=== Trova gli ambienti di lavoro esistenti

Utilizzando l'azione _Find Existing Resources_ è possibile individuare l'ambiente di lavoro e utilizzare altre azioni modello, come la creazione di un volume, per eseguire facilmente azioni sull'ambiente di lavoro esistente.

.Fasi
. Selezionare *Health > Remediation*, fare clic sulla scheda *Templates*, quindi fare clic su *Add New Template* (Aggiungi nuovo modello).
+
Viene visualizzata la pagina _Select_a Template_.

+
image:screenshot_create_template_primary_action_blank.png["Una schermata che mostra come selezionare l'azione principale che verrà eseguita utilizzando questo modello."]

. Selezionare *modello vuoto* e fare clic su *inizia*.
+
Viene visualizzata la pagina _Add New Action_.

+
image:screenshot_create_template_find_resource_action.png["Una schermata che mostra come selezionare l'azione trova risorse esistenti dalla pagina Aggiungi nuova azione."]

. Selezionare *trova risorse esistenti* come tipo di azione da definire e fare clic su *Applica*.
+
Viene visualizzata la pagina _Find Existing Resources Action Definition_.

+
image:screenshot_define_find_work_env.png["Una schermata che mostra un modello vuoto di ricerca delle risorse esistenti da compilare."]

. *Nome azione*: Immettere un nome di azione personalizzato invece del valore predefinito. Ad esempio, "trova ambienti di lavoro che includono Dallas".
. *Tipo di risorsa:* selezionare il tipo di risorsa che si desidera trovare. In questo caso, selezionare *ambienti di lavoro*.
+
Questa è l'unica voce richiesta per questa azione. È possibile fare clic su *continua* per visualizzare un elenco di tutti gli ambienti di lavoro del proprio ambiente.

+
Si consiglia invece di compilare alcuni filtri per ridurre il numero di risultati (in questo caso, gli ambienti di lavoro).

. Dopo aver definito alcuni filtri nell'area _Dettagli_, è possibile selezionare un ambiente di lavoro specifico.
. Fare clic su *Continue* (continua) per salvare le impostazioni, quindi fare clic su *Done* (fine).
. Inserire il nome del modello in alto a sinistra, quindi fare clic su *Save Template* (Salva modello)


.Risultato
Il modello viene creato e si torna alla dashboard dei modelli dove viene visualizzato il nuovo modello.

Vedere <<Cosa fare dopo aver creato il modello,informazioni sui modelli da fornire agli utenti>>.



== Esempi di attivazione dei servizi mediante modelli

I modelli di servizio consentono di attivare i servizi di backup e ripristino BlueXP, classificazione BlueXP o replica BlueXP (SnapMirror) su un volume appena creato.



=== Aggiungere la funzionalità di backup a un volume

Quando si crea un modello di volume, è possibile aggiungere il modello che si desidera creare periodicamente per il backup del volume utilizzando https://docs.netapp.com/us-en/cloud-manager-backup-restore/concept-ontap-backup-to-cloud.html["Backup e ripristino BlueXP"^] servizio.


TIP: Questa azione non è applicabile ai volumi Azure NetApp Files.

image:screenshot_template_backup.png["Una schermata della pagina per abilitare la funzionalità di backup per i volumi."]

. *Policy*: Selezionare il criterio di backup che si desidera utilizzare.
. *Context*: Per impostazione predefinita, le variabili vengono compilate per l'ambiente di lavoro, la VM di storage e il volume per indicare che verranno creati backup per il volume creato in precedenza in questo stesso modello. Quindi, se questo è quello che vuoi fare, sei tutto a posto.
+
Se si desidera creare backup per un volume diverso, è possibile inserire questi dati manualmente. Scopri come link:reference-template-building-blocks.html#pass-values-between-template-actions["Completare i campi di contesto"] per indicare un volume diverso.

. Fare clic su *Apply* (Applica) per salvare le modifiche.




=== Aggiungere la funzionalità di classificazione BlueXP a un volume

Quando si crea un modello di volume, è possibile aggiungere il modello che si desidera sottoporre a scansione per verificare la conformità e la classificazione del volume utilizzando https://docs.netapp.com/us-en/cloud-manager-data-sense/concept-cloud-compliance.html["Classificazione BlueXP"^] servizio.

image:screenshot_template_data_sense.png["Una schermata della pagina per abilitare la funzionalità di scansione per i volumi."]

. *Context*: Per impostazione predefinita, le variabili vengono compilate per l'ambiente di lavoro, il nome del volume, l'UUID del volume, il percorso del volume e il protocollo per indicare che si intende eseguire la scansione dei dati per il volume creato in precedenza in questo stesso modello. Quindi, se questo è quello che vuoi fare, sei tutto a posto.
+
Se si desidera eseguire la scansione dei dati per un volume diverso, è possibile inserire questi dati manualmente. Scopri come link:reference-template-building-blocks.html#pass-values-between-template-actions["Completare i campi di contesto"] per indicare un volume diverso.

. Fare clic su *Apply* (Applica) per salvare le modifiche.




=== Aggiunta della funzionalità di replica BlueXP a un volume

Quando si crea un modello di volume, è possibile aggiungere il modello che si desidera replicare i dati nel volume in un altro volume utilizzando https://docs.netapp.com/us-en/cloud-manager-replication/concept-replication.html["Replica BlueXP"^] servizio. È possibile replicare i dati in un cluster Cloud Volumes ONTAP o in un cluster ONTAP on-premise.


TIP: Questa azione non è applicabile ai volumi Azure NetApp Files.

La funzionalità di replica di BlueXP è composta da tre parti: Selezione del volume di origine, selezione del volume di destinazione e definizione delle impostazioni di replica. Ciascuna sezione viene descritta di seguito.

. *Source Details* (Dettagli origine): Immettere i dettagli relativi al volume di origine che si desidera replicare:
+
image:screenshot_template_replication_source.png["Una schermata della pagina per definire la posizione del volume di origine della replica BlueXP."]

+
.. Per impostazione predefinita, le prime tre variabili vengono compilate per l'ambiente di lavoro, la VM di storage e il volume per indicare che si intende replicare il volume creato in precedenza in questo stesso modello. Quindi, se questo è quello che vuoi fare, sei tutto a posto.
+
Se si desidera replicare un volume diverso, è possibile inserire questi dati manualmente. Scopri come link:reference-template-building-blocks.html#pass-values-between-template-actions["Completare i campi di contesto"] per indicare un volume diverso.

.. La replica BlueXP richiede che gli ambienti di lavoro di origine e di destinazione siano connessi tramite le proprie LIF intercluster. Inserire l'indirizzo IP LIF dell'intercluster per l'ambiente di lavoro di origine.
+
Per ottenere queste informazioni: Fare doppio clic sull'ambiente di lavoro, fare clic sull'icona del menu e fare clic su informazioni.



. *Destination Details* (Dettagli destinazione): Immettere i dettagli relativi al volume di destinazione che verrà creato dall'operazione di replica:
+
image:screenshot_template_replication_dest.png["Una schermata della pagina per definire la posizione del volume di destinazione della replica BlueXP."]

+
.. Selezionare l'ambiente di lavoro in cui verrà creato il volume.
.. Selezionare la VM di storage su cui risiedere il volume.
.. Quando si replica un volume in un cluster Cloud Volumes ONTAP (non in un cluster ONTAP on-premise), è necessario specificare il provider di destinazione (AWS, Azure o GCP).
.. Quando si replica un volume in un cluster Cloud Volumes ONTAP, è possibile specificare se il tiering del volume è attivato nel volume di destinazione.
.. Per il nome del volume di destinazione, fare clic nel campo e selezionare una delle 5 opzioni. È possibile consentire all'amministratore di immettere qualsiasi nome selezionando *Free Text*, oppure specificare che il nome del volume deve avere un determinato prefisso o suffisso, che _contenga_ caratteri specifici o che segua le regole di un'espressione regolare (regex) immessa.
.. La replica BlueXP richiede che gli ambienti di lavoro di origine e di destinazione siano connessi tramite le proprie LIF intercluster. Inserire l'indirizzo IP LIF dell'intercluster per l'ambiente di lavoro di destinazione.
.. Selezionare l'aggregato su cui risiedere il volume.
.. Quando si replica un volume in un cluster Cloud Volumes ONTAP (non in un cluster ONTAP on-premise), è necessario specificare il tipo di disco da utilizzare per il nuovo volume.


. *Replication Details* (Dettagli replica): Inserire i dettagli relativi al tipo e alla frequenza dell'operazione di replica:
+
image:screenshot_template_replication_policy.png["Una schermata della pagina per definire le impostazioni di replica di BlueXP per la relazione."]

+
.. Selezionare https://docs.netapp.com/us-en/cloud-manager-replication/concept-replication-policies.html#types-of-replication-policies["policy di replica"^] che si desidera utilizzare.
.. Scegliere una copia singola o una pianificazione di replica ricorrente.
.. Attivare il monitoraggio dello stato di salute della replica se si desidera che il report drift includa lo stato di salute della replica della relazione SnapMirror insieme al ritardo, allo stato e all'ultimo tempo di trasferimento. link:task-check-template-compliance.html#bluexp-replication-health-details-in-the-drift-report["Scopri come si presenta questo aspetto nel report Drift"].
.. Selezionare se si desidera impostare un limite di velocità di trasferimento, quindi immettere la velocità massima (in kilobyte al secondo) alla quale trasferire i dati. È possibile immettere un valore fisso oppure specificare un valore minimo e un valore massimo e lasciare che l'amministratore dello storage selezioni un valore in tale intervallo.


. Fare clic su *Apply* (Applica) per salvare le modifiche.




== Cosa fare dopo aver creato il modello

Dopo aver creato un modello, è necessario informare gli amministratori dello storage di utilizzare il modello durante la creazione di nuovi volumi e ambienti di lavoro.

È possibile indicarli a. link:task-run-templates.html["Creazione di risorse utilizzando modelli"] per ulteriori informazioni.



== Modificare o eliminare un modello

È possibile modificare un modello se è necessario modificare uno dei parametri. Dopo aver salvato le modifiche, tutte le risorse future create dal modello utilizzeranno i nuovi valori dei parametri.

È inoltre possibile eliminare un modello se non è più necessario. L'eliminazione di un modello non influisce sulle risorse create con il modello. Tuttavia, non è possibile eseguire alcun controllo di conformità Drift dopo l'eliminazione del modello.

image:screenshot_template_edit_remove.png["Una schermata che mostra come modificare un modello o eliminare un modello."]



== Eseguire una copia di un modello

È possibile creare una copia di un modello esistente. Ciò consente di risparmiare molto tempo nel caso in cui si desideri creare un nuovo modello molto simile a un modello esistente. È sufficiente creare il duplicato con un nuovo nome e modificare il modello per modificare le coppie di elementi che rendono unico il modello.

image:screenshot_template_duplicate.png["Una schermata che mostra come duplicare un modello."]
